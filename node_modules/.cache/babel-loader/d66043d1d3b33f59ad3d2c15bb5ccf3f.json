{"ast":null,"code":"var _jsxFileName = \"/Users/willhaight/Desktop/react/React-Chat-App/client/src/views/Chatroom/Chat.js\";\nimport React from \"react\";\nimport Nav from '../../components/Naviagtion/Navigation';\nimport '../Chatroom/Chat.css';\nimport { projectFirestore } from \"../../firebase/config\";\nimport { projectAuth } from \"../../firebase/config\";\nimport { timestamp } from \"../../firebase/config\";\nexport default function Chat() {\n  //pull messages and append\n  const update = async () => {\n    try {\n      let res = await projectFirestore.collection('messages').get();\n      console.log(res.docs);\n      document.getElementById('messageBoard').innerHTML = null;\n      res.docs.forEach(doc => {\n        console.log(doc.data().timestamp);\n        document.getElementById('messageBoard').innerHTML += \"<p>\" + doc.data().author + \": \" + doc.data().wrote + \"</p>\";\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  update(); //write message\n\n  const writeMessage = async () => {\n    let writer = projectAuth.currentUser.email;\n    let message = {\n      wrote: document.getElementById('chatValue').value,\n      author: writer,\n      time: timestamp()\n    };\n\n    try {\n      await projectFirestore.collection('messages').add(message);\n      projectFirestore.collection('messages').orderBy('time');\n      document.getElementById('chatValue').value = null;\n      update();\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"nav-holder\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(Nav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"heading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Welcome to the Chatroom\")), React.createElement(\"div\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    id: \"messageBoard\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"controlCenter\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    id: \"chatValue\",\n    placeholder: \"write a message...\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: writeMessage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Send\"), React.createElement(\"button\", {\n    onClick: update,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"up\"))));\n}","map":{"version":3,"sources":["/Users/willhaight/Desktop/react/React-Chat-App/client/src/views/Chatroom/Chat.js"],"names":["React","Nav","projectFirestore","projectAuth","timestamp","Chat","update","res","collection","get","console","log","docs","document","getElementById","innerHTML","forEach","doc","data","author","wrote","err","writeMessage","writer","currentUser","email","message","value","time","add","orderBy"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Nav from '../../components/Naviagtion/Navigation'\nimport '../Chatroom/Chat.css'\nimport { projectFirestore } from \"../../firebase/config\";\nimport { projectAuth } from \"../../firebase/config\";\nimport { timestamp } from \"../../firebase/config\";\n\n\nexport default function Chat() {\n    //pull messages and append\n    const update = async () => {\n\n\n\n        try {\n            let res = await projectFirestore.collection('messages').get()\n            console.log(res.docs)\n            document.getElementById('messageBoard').innerHTML = null\n            res.docs.forEach(doc => {\n                console.log(doc.data().timestamp)\n                document.getElementById('messageBoard').innerHTML += `<p>` + doc.data().author + `: ` + doc.data().wrote + `</p>`\n            })\n        } catch (err) {\n            console.log(err)\n        }\n    }\n    update()\n\n\n    //write message\n    const writeMessage = async () => {\n\n        let writer = projectAuth.currentUser.email\n        let message = { wrote: document.getElementById('chatValue').value, author: writer, time: timestamp() }\n\n        try {\n            await projectFirestore.collection('messages').add(message)\n            projectFirestore.collection('messages').orderBy('time')\n            document.getElementById('chatValue').value = null\n            update()\n        } catch (err) {\n            console.log(err)\n        }\n    }\n\n\n    return (\n        <div>\n            <div className=\"nav-holder\">\n                <Nav />\n            </div>\n            <div className=\"heading\">\n                <h1>Welcome to the Chatroom</h1>\n            </div>\n            <div className=\"content\">\n                <div id=\"messageBoard\">\n\n\n                </div>\n                <div className=\"controlCenter\">\n                    <input type=\"text\" id=\"chatValue\" placeholder=\"write a message...\"></input>\n                    <button onClick={writeMessage}>Send</button>\n                    <button onClick={update}>up</button>\n                </div>\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}